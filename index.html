<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Quadrados com Upload, Texto e Ícones</title>
<style>
    body {
        margin: 0;
        min-height: 100vh;
        display: flex;
        justify-content: center;
        background-color: #f0f0f0;
        font-family: Arial, sans-serif;
    }

    .main-container {
        display: flex;
        flex-direction: column;
        align-items: center;
        padding-top: 20px;
    }

    /* Caixa de texto superior centralizada */
    #super-top {
        width: 300px;
        padding: 8px;
        font-size: 16px;
        text-align: center;
        margin-bottom: 20px;
    }

    /* Container das caixas de texto do topo com ícones */
    .top-texts {
        display: grid;
        grid-template-columns: repeat(3, 100px);
        grid-auto-rows: auto;
        gap: 20px;
        margin-bottom: 30px;
        justify-content: center;
        width: 100%;
    }

    .top-box {
        display: flex;
        flex-direction: column;
        align-items: center;
    }

    .top-box img {
        width: 40px;
        height: 40px;
        margin-bottom: 5px;
    }

    .top-box input {
        width: 100px;
        padding: 5px;
        text-align: center;
        font-size: 14px;
    }

    /* Centralizar última linha */
    .last-row {
        display: flex;
        justify-content: center;
        gap: 20px;
        grid-column: 1 / -1; /* ocupa toda a largura do grid */
    }

    /* Grid dos quadrados grandes: 3 colunas × 2 linhas */
    .container {
        display: grid;
        grid-template-columns: repeat(3, 150px);
        grid-template-rows: repeat(2, auto);
        gap: 20px;
        justify-items: center;
        margin-bottom: 40px;
    }

    .square-container {
        display: flex;
        flex-direction: column;
        align-items: center;
    }

    .square {
        width: 150px;
        height: 150px;
        background-color: white;
        border: 2px solid #ccc;
        display: flex;
        justify-content: center;
        align-items: center;
        cursor: pointer;
        position: relative;
        overflow: hidden;
    }

    .square img.uploaded {
        width: 100%;
        height: 100%;
        object-fit: cover;
        pointer-events: none;
    }

    .square input[type="file"] {
        display: none;
    }

    .text-box {
        margin-top: 5px;
        width: 150px;
        box-sizing: border-box;
        padding: 5px;
        font-size: 14px;
        text-align: center;
    }

    /* Seção de quadrados menores (16) */
    .small-grid {
        display: grid;
        grid-template-columns: repeat(4, 100px);
        grid-template-rows: repeat(4, auto);
        gap: 15px;
        justify-items: center;
        margin-bottom: 40px;
    }

    .small-square {
        width: 100px;
        height: 100px;
        background-color: white;
        border: 2px solid #ccc;
        display: flex;
        justify-content: center;
        align-items: center;
        cursor: pointer;
        position: relative;
        overflow: hidden;
    }

    .small-square img.uploaded {
        width: 100%;
        height: 100%;
        object-fit: cover;
        pointer-events: none;
    }

    .small-square input[type="file"] {
        display: none;
    }

    .small-text-box {
        margin-top: 5px;
        width: 100px;
        box-sizing: border-box;
        padding: 4px;
        font-size: 12px;
        text-align: center;
    }
</style>
</head>
<body>

<div class="main-container">

    <!-- Caixa de texto superior centralizada -->
    <input type="text" id="super-top" placeholder="Texto superior">

    <!-- Topo: 3+3+2 caixas -->
    <div class="top-texts">
        <!-- Primeira linha -->
        <div class="top-box">
            <img src="img/icon1.png" alt="Icon 1">
            <input type="text" id="top0" placeholder="Texto 1">
        </div>
        <div class="top-box">
            <img src="img/icon2.png" alt="Icon 2">
            <input type="text" id="top1" placeholder="Texto 2">
        </div>
        <div class="top-box">
            <img src="img/icon3.png" alt="Icon 3">
            <input type="text" id="top2" placeholder="Texto 3">
        </div>

        <!-- Segunda linha -->
        <div class="top-box">
            <img src="img/icon4.png" alt="Icon 4">
            <input type="text" id="top3" placeholder="Texto 4">
        </div>
        <div class="top-box">
            <img src="img/icon5.png" alt="Icon 5">
            <input type="text" id="top4" placeholder="Texto 5">
        </div>
        <div class="top-box">
            <img src="img/icon6.png" alt="Icon 6">
            <input type="text" id="top5" placeholder="Texto 6">
        </div>

        <!-- Última linha centralizada -->
        <div class="last-row">
            <div class="top-box">
                <img src="img/icon7.png" alt="Icon 7">
                <input type="text" id="top6" placeholder="Texto 7">
            </div>
            <div class="top-box">
                <img src="img/icon8.png" alt="Icon 8">
                <input type="text" id="top7" placeholder="Texto 8">
            </div>
        </div>
    </div>

    <!-- Grid de quadrados grandes: 3 colunas × 2 linhas -->
    <div class="container">
        <div class="square-container">
            <div class="square" id="square0"><input type="file" accept="image/*"></div>
            <input type="text" class="text-box" id="text0" placeholder="Digite aqui">
        </div>
        <div class="square-container">
            <div class="square" id="square1"><input type="file" accept="image/*"></div>
            <input type="text" class="text-box" id="text1" placeholder="Digite aqui">
        </div>
        <div class="square-container">
            <div class="square" id="square2"><input type="file" accept="image/*"></div>
            <input type="text" class="text-box" id="text2" placeholder="Digite aqui">
        </div>
        <div class="square-container">
            <div class="square" id="square3"><input type="file" accept="image/*"></div>
            <input type="text" class="text-box" id="text3" placeholder="Digite aqui">
        </div>
        <div class="square-container">
            <div class="square" id="square4"><input type="file" accept="image/*"></div>
            <input type="text" class="text-box" id="text4" placeholder="Digite aqui">
        </div>
        <div class="square-container">
            <div class="square" id="square5"><input type="file" accept="image/*"></div>
            <input type="text" class="text-box" id="text5" placeholder="Digite aqui">
        </div>
    </div>

    <!-- Grid de quadrados menores: 4 colunas × 4 linhas -->
    <div class="small-grid">
        <!-- Criar 16 quadrados menores -->
        <!-- Podemos usar loop via JS, mas aqui está manual para referência -->
        <div class="square-container">
            <div class="small-square" id="small0"><input type="file" accept="image/*"></div>
            <input type="text" class="small-text-box" id="small-text0" placeholder="Digite aqui">
        </div>
        <div class="square-container">
            <div class="small-square" id="small1"><input type="file" accept="image/*"></div>
            <input type="text" class="small-text-box" id="small-text1" placeholder="Digite aqui">
        </div>
        <div class="square-container">
            <div class="small-square" id="small2"><input type="file" accept="image/*"></div>
            <input type="text" class="small-text-box" id="small-text2" placeholder="Digite aqui">
        </div>
        <div class="square-container">
            <div class="small-square" id="small3"><input type="file" accept="image/*"></div>
            <input type="text" class="small-text-box" id="small-text3" placeholder="Digite aqui">
        </div>
        <div class="square-container">
            <div class="small-square" id="small4"><input type="file" accept="image/*"></div>
            <input type="text" class="small-text-box" id="small-text4" placeholder="Digite aqui">
        </div>
        <div class="square-container">
            <div class="small-square" id="small5"><input type="file" accept="image/*"></div>
            <input type="text" class="small-text-box" id="small-text5" placeholder="Digite aqui">
        </div>
        <div class="square-container">
            <div class="small-square" id="small6"><input type="file" accept="image/*"></div>
            <input type="text" class="small-text-box" id="small-text6" placeholder="Digite aqui">
        </div>
        <div class="square-container">
            <div class="small-square" id="small7"><input type="file" accept="image/*"></div>
            <input type="text" class="small-text-box" id="small-text7" placeholder="Digite aqui">
        </div>
        <div class="square-container">
            <div class="small-square" id="small8"><input type="file" accept="image/*"></div>
            <input type="text" class="small-text-box" id="small-text8" placeholder="Digite aqui">
        </div>
        <div class="square-container">
            <div class="small-square" id="small9"><input type="file" accept="image/*"></div>
            <input type="text" class="small-text-box" id="small-text9" placeholder="Digite aqui">
        </div>
        <div class="square-container">
            <div class="small-square" id="small10"><input type="file" accept="image/*"></div>
            <input type="text" class="small-text-box" id="small-text10" placeholder="Digite aqui">
        </div>
        <div class="square-container">
            <div class="small-square" id="small11"><input type="file" accept="image/*"></div>
            <input type="text" class="small-text-box" id="small-text11" placeholder="Digite aqui">
        </div>
        <div class="square-container">
            <div class="small-square" id="small12"><input type="file" accept="image/*"></div>
            <input type="text" class="small-text-box" id="small-text12" placeholder="Digite aqui">
        </div>
        <div class="square-container">
            <div class="small-square" id="small13"><input type="file" accept="image/*"></div>
            <input type="text" class="small-text-box" id="small-text13" placeholder="Digite aqui">
        </div>
        <div class="square-container">
            <div class="small-square" id="small14"><input type="file" accept="image/*"></div>
            <input type="text" class="small-text-box" id="small-text14" placeholder="Digite aqui">
        </div>
        <div class="square-container">
            <div class="small-square" id="small15"><input type="file" accept="image/*"></div>
            <input type="text" class="small-text-box" id="small-text15" placeholder="Digite aqui">
        </div>
    </div>

</div>

<script>
    function loadContent() {
        // Super-top
        const superTop = localStorage.getItem('super-top');
        if(superTop) document.getElementById('super-top').value = superTop;

        // Topo 8 caixas
        for (let i = 0; i < 8; i++) {
            const savedTop = localStorage.getItem('top' + i);
            if (savedTop) document.getElementById('top' + i).value = savedTop;
        }

        // Quadrados grandes
        for (let i = 0; i < 6; i++) {
            const dataUrl = localStorage.getItem('square' + i);
            if (dataUrl) {
                const square = document.getElementById('square' + i);
                const img = document.createElement('img');
                img.src = dataUrl;
                img.classList.add('uploaded');
                square.appendChild(img);
            }

            const savedText = localStorage.getItem('text' + i);
            if (savedText) document.getElementById('text' + i).value = savedText;
        }

        // Quadrados menores
        for (let i = 0; i < 16; i++) {
            const dataUrl = localStorage.getItem('small' + i);
            if (dataUrl) {
                const square = document.getElementById('small' + i);
                const img = document.createElement('img');
                img.src = dataUrl;
                img.classList.add('uploaded');
                square.appendChild(img);
            }

            const savedText = localStorage.getItem('small-text' + i);
            if (savedText) document.getElementById('small-text' + i).value = savedText;
        }
    }

    // Super-top
    const superTopBox = document.getElementById('super-top');
    superTopBox.addEventListener('input', () => {
        localStorage.setItem('super-top', superTopBox.value);
    });

    // Topo 8 caixas
    for (let i = 0; i < 8; i++) {
        const topBox = document.getElementById('top' + i);
        topBox.addEventListener('input', () => {
            localStorage.setItem('top' + i, topBox.value);
        });
    }

    // Quadrados grandes
    for (let i = 0; i < 6; i++) {
        const square = document.getElementById('square' + i);
        const input = square.querySelector('input[type="file"]');
        const textBox = document.getElementById('text' + i);

        square.addEventListener('click', () => input.click());

        input.addEventListener('change', (event) => {
            const file = event.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    const oldImg = square.querySelector('img.uploaded');
                    if (oldImg) oldImg.remove();

                    const img = document.createElement('img');
                    img.src = e.target.result;
                    img.classList.add('uploaded');
                    square.appendChild(img);

                    localStorage.setItem('square' + i, e.target.result);
                }
                reader.readAsDataURL(file);
            }
        });

        textBox.addEventListener('input', () => {
            localStorage.setItem('text' + i, textBox.value);
        });
    }

    // Quadrados menores
    for (let i = 0; i < 16; i++) {
        const square = document.getElementById('small' + i);
        const input = square.querySelector('input[type="file"]');
        const textBox = document.getElementById('small-text' + i);

        square.addEventListener('click', () => input.click());

        input.addEventListener('change', (event) => {
            const file = event.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    const oldImg = square.querySelector('img.uploaded');
                    if (oldImg) oldImg.remove();

                    const img = document.createElement('img');
                    img.src = e.target.result;
                    img.classList.add('uploaded');
                    square.appendChild(img);

                    localStorage.setItem('small' + i, e.target.result);
                }
                reader.readAsDataURL(file);
            }
        });

        textBox.addEventListener('input', () => {
            localStorage.setItem('small-text' + i, textBox.value);
        });
    }

    loadContent();
</script>

</body>
</html>
